(self["webpackChunkedu_boss_fed"]=self["webpackChunkedu_boss_fed"]||[]).push([[305],{6952:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-form",{ref:"resourceForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryParams}},[r("el-form-item",{attrs:{label:"资源名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"资源名称",clearable:""},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),r("el-form-item",{attrs:{label:"资源路径",prop:"url"}},[r("el-input",{attrs:{placeholder:"资源路径",clearable:""},model:{value:e.queryParams.url,callback:function(t){e.$set(e.queryParams,"url",t)},expression:"queryParams.url"}})],1),r("el-form-item",{attrs:{label:"资源分类",prop:"categoryId"}},[r("el-select",{attrs:{placeholder:"资源分类",clearable:""},model:{value:e.queryParams.categoryId,callback:function(t){e.$set(e.queryParams,"categoryId",t)},expression:"queryParams.categoryId"}},[r("el-option",{attrs:{label:"不限",value:""}}),e._l(e.categorys,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2)],1),r("el-form-item",[r("el-button",{on:{click:e.handleRest}},[e._v("重置")]),r("el-button",{attrs:{type:"primary",disabled:e.isLoading},on:{click:e.loadResources}},[e._v("查询搜索")])],1)],1)],1),r("el-button",{on:{click:function(t){return e.handleDlg(0)}}},[e._v("添加")]),r("el-button",{on:{click:function(t){return e.$router.push({name:"resource-category"})}}},[e._v("资源分类")]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.queryResult.records,border:""}},[r("el-table-column",{attrs:{type:"index",label:"编号",width:"80",align:"center"}}),r("el-table-column",{attrs:{prop:"name",label:"资源名称",align:"center"}}),r("el-table-column",{attrs:{prop:"url",label:"资源路径",align:"center"}}),r("el-table-column",{attrs:{prop:"description",label:"描述",align:"center"}}),r("el-table-column",{attrs:{prop:"createdTime",label:"添加时间",formatter:e.timeFormatter,align:"center"}}),r("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleDlg(t.row.id)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryParams.current,"page-sizes":[10,20,50,100],"page-size":e.queryParams.size,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResult.total,disabled:e.isLoading},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("resource-create-or-edit",{ref:"resourceDlg",on:{"resource-change":e.loadResources}})],1)},s=[],n=r(5972);const i=(e={})=>(0,n.Z)({method:"POST",url:"/boss/resource/getResourcePages",data:e}),o=e=>(0,n.Z)({method:"GET",url:`/boss/resource/${e}`}),u=e=>(0,n.Z)({method:"POST",url:"/boss/resource/saveOrUpdate",data:e}),l=e=>(0,n.Z)({method:"DELETE",url:`/boss/resource/${e}`});var c=r(16),d=r(3189),h=r.n(d),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{model:e.resourceData}},[r("el-form-item",{attrs:{label:"资源名称","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.resourceData.name,callback:function(t){e.$set(e.resourceData,"name",t)},expression:"resourceData.name"}})],1),r("el-form-item",{attrs:{label:"资源路径","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.resourceData.url,callback:function(t){e.$set(e.resourceData,"url",t)},expression:"resourceData.url"}})],1),r("el-form-item",{attrs:{label:"资源分类","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.resourceData.categoryId,callback:function(t){e.$set(e.resourceData,"categoryId",t)},expression:"resourceData.categoryId"}},e._l(e.categorys,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.resourceData.description,callback:function(t){e.$set(e.resourceData,"description",t)},expression:"resourceData.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",disabled:e.isLoading},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)},m=[],g={name:"ResourceCreateOrEdit",data(){return{isCreate:!0,dialogFormVisible:!1,resourceData:{id:void 0,name:"",url:"",categoryId:1,description:""},categorys:[],isLoading:!1,formLabelWidth:"120px"}},computed:{title(){return this.isCreate?"新建资源":"编辑资源"}},methods:{showAndInit(e=0){this.dialogFormVisible=!0,this.isCreate=e<1,(0,c.lW)().then((e=>{"000000"===e.data.code&&(this.categorys=e.data.data)})),this.isCreate?this.resourceData={name:"",url:"",categoryId:1,description:""}:(this.isLoading=!0,o(e).then((e=>{"000000"===e.data.code&&(this.resourceData=e.data.data)})).finally((()=>{this.isLoading=!1})))},onSubmit(){u(this.resourceData).then((e=>{e.data.data?(this.$message.success(`${this.title}成功~`),this.$emit("resource-change")):this.$message.error(`${this.title}失败~`)})).finally((()=>{this.dialogFormVisible=!1}))}}},$=g,p=r(1001),y=(0,p.Z)($,f,m,!1,null,"1ab940bd",null),b=y.exports,v={name:"ResourceIndex",data(){return{queryParams:{id:void 0,name:"",startCreateTime:void 0,url:"",categoryId:"",endCreateTime:void 0,current:1,size:10},queryResult:{},categorys:[],isLoading:!1}},created(){this.loadResources(),this.loadCategory()},methods:{loadResources(){this.isLoading=!0,i(this.queryParams).then((e=>{if("000000"===e.data.code){const{current:t,pages:r,records:a,size:s,total:n}=e.data.data;Object.assign(this.queryParams,{current:t,size:s}),this.queryResult={pages:r,records:a,total:n}}else this.$message.error("获取资源数据失败~")})).finally((()=>{this.isLoading=!1}))},loadCategory(){(0,c.lW)().then((e=>{"000000"===e.data.code?this.categorys=e.data.data:this.$message.error("获取资源类别失败~")}))},timeFormatter(e,t,r,a){return h()(r).format("YYYY-MM-DD")},handleRest(){this.$refs.resourceForm.resetFields()},handleSizeChange(e){this.queryParams.size=e,this.queryParams.current=1,this.loadResources()},handleCurrentChange(e){this.queryParams.current=e,this.loadResources()},handleDlg(e){this.$refs.resourceDlg.showAndInit(e)},handleDelete(e){this.$confirm("确认要删除该资源吗?","删除提示").then((()=>{l(e).then((e=>{"000000"===e.data.code?(this.$message.success("删除资源成功!"),this.loadResources()):this.$message.error("删除资源失败~")}))})).catch((()=>{this.$message.info("取消了删除资源的操作.")}))}},components:{ResourceCreateOrEdit:b}},D=v,M=(0,p.Z)(D,a,s,!1,null,"477b2086",null),S=M.exports},3189:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e=1e3,t=6e4,r=36e5,a="millisecond",s="second",n="minute",i="hour",o="day",u="week",l="month",c="quarter",d="year",h="date",f="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(e,t,r){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(r)+e},y={s:p,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),a=Math.floor(r/60),s=r%60;return(t<=0?"+":"-")+p(a,2,"0")+":"+p(s,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var a=12*(r.year()-t.year())+(r.month()-t.month()),s=t.clone().add(a,l),n=r-s<0,i=t.clone().add(a+(n?-1:1),l);return+(-(a+(r-s)/(n?s-i:i-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:u,d:o,D:h,h:i,m:n,s:s,ms:a,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=$;var D=function(e){return e instanceof _},M=function e(t,r,a){var s;if(!t)return b;if("string"==typeof t){var n=t.toLowerCase();v[n]&&(s=n),r&&(v[n]=r,s=n);var i=t.split("-");if(!s&&i.length>1)return e(i[0])}else{var o=t.name;v[o]=t,s=o}return!a&&s&&(b=s),s||!a&&b},S=function(e,t){if(D(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new _(r)},w=y;w.l=M,w.i=D,w.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function $(e){this.$L=M(e.locale,null,!0),this.parse(e)}var p=$.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(m);if(a){var s=a[2]-1||0,n=(a[7]||"0").substring(0,3);return r?new Date(Date.UTC(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,n)):new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,n)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!(this.$d.toString()===f)},p.isSame=function(e,t){var r=S(e);return this.startOf(t)<=r&&r<=this.endOf(t)},p.isAfter=function(e,t){return S(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<S(e)},p.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var r=this,a=!!w.u(t)||t,c=w.p(e),f=function(e,t){var s=w.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return a?s:s.endOf(o)},m=function(e,t){return w.w(r.toDate()[e].apply(r.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,$=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case d:return a?f(1,0):f(31,11);case l:return a?f(1,$):f(0,$+1);case u:var b=this.$locale().weekStart||0,v=(g<b?g+7:g)-b;return f(a?p-v:p+(6-v),$);case o:case h:return m(y+"Hours",0);case i:return m(y+"Minutes",1);case n:return m(y+"Seconds",2);case s:return m(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var r,u=w.p(e),c="set"+(this.$u?"UTC":""),f=(r={},r[o]=c+"Date",r[h]=c+"Date",r[l]=c+"Month",r[d]=c+"FullYear",r[i]=c+"Hours",r[n]=c+"Minutes",r[s]=c+"Seconds",r[a]=c+"Milliseconds",r)[u],m=u===o?this.$D+(t-this.$W):t;if(u===l||u===d){var g=this.clone().set(h,1);g.$d[f](m),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[w.p(e)]()},p.add=function(a,c){var h,f=this;a=Number(a);var m=w.p(c),g=function(e){var t=S(f);return w.w(t.date(t.date()+Math.round(e*a)),f)};if(m===l)return this.set(l,this.$M+a);if(m===d)return this.set(d,this.$y+a);if(m===o)return g(1);if(m===u)return g(7);var $=(h={},h[n]=t,h[i]=r,h[s]=e,h)[m]||1,p=this.$d.getTime()+a*$;return w.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var a=e||"YYYY-MM-DDTHH:mm:ssZ",s=w.z(this),n=this.$H,i=this.$m,o=this.$M,u=r.weekdays,l=r.months,c=function(e,r,s,n){return e&&(e[r]||e(t,a))||s[r].slice(0,n)},d=function(e){return w.s(n%12||12,e,"0")},h=r.meridiem||function(e,t,r){var a=e<12?"AM":"PM";return r?a.toLowerCase():a},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:c(r.monthsShort,o,l,3),MMMM:c(l,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,u,2),ddd:c(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(n),HH:w.s(n,2,"0"),h:d(1),hh:d(2),a:h(n,i,!0),A:h(n,i,!1),m:String(i),mm:w.s(i,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:s};return a.replace(g,(function(e,t){return t||m[e]||s.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(a,h,f){var m,g=w.p(h),$=S(a),p=($.utcOffset()-this.utcOffset())*t,y=this-$,b=w.m(this,$);return b=(m={},m[d]=b/12,m[l]=b,m[c]=b/3,m[u]=(y-p)/6048e5,m[o]=(y-p)/864e5,m[i]=y/r,m[n]=y/t,m[s]=y/e,m)[g]||y,f?b:w.a(b)},p.daysInMonth=function(){return this.endOf(l).$D},p.$locale=function(){return v[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),a=M(e,t,!0);return a&&(r.$L=a),r},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},$}(),C=_.prototype;return S.prototype=C,[["$ms",a],["$s",s],["$m",n],["$H",i],["$W",o],["$M",l],["$y",d],["$D",h]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,_,S),e.$i=!0),S},S.locale=M,S.isDayjs=D,S.unix=function(e){return S(1e3*e)},S.en=v[b],S.Ls=v,S.p={},S}))},16:function(e,t,r){"use strict";r.d(t,{Km:function(){return n},lW:function(){return s},uu:function(){return i}});var a=r(5972);const s=()=>(0,a.Z)({method:"GET",url:"/boss/resource/category/getAll"}),n=e=>(0,a.Z)({method:"POST",url:"/boss/resource/category/saveOrderUpdate",data:e}),i=e=>(0,a.Z)({method:"DELETE",url:`/boss/resource/category/${e}`})}}]);