"use strict";(self["webpackChunkedu_boss_fed"]=self["webpackChunkedu_boss_fed"]||[]).push([[953],{304:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryParams}},[a("el-form-item",{attrs:{label:"课程名称"}},[a("el-input",{attrs:{clearable:"",placeholder:"课程名称"},model:{value:e.queryParams.courseName,callback:function(t){e.$set(e.queryParams,"courseName",t)},expression:"queryParams.courseName"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"下架",value:0}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.loadCourses}},[e._v("查询")])],1)],1),a("el-button",{staticStyle:{float:"right",padding:"15px"},attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"course-create"})}}},[e._v("十 新建课程")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.queryResult.records,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"courseName",label:"课程名称",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center"}}),a("el-table-column",{attrs:{prop:"sortNum",label:"排序",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0,"active-text":"上架","inactive-text":"下架"},on:{change:function(a){return e.handleChangeStatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){return e.$router.push({name:"course-edit",params:{courseId:t.row.id}})}}},[e._v("编辑")]),a("el-button",{on:{click:function(a){return e.$router.push({name:"course-content",params:{courseId:t.row.id}})}}},[e._v("内容管理")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryParams.currentPage,"page-sizes":[10,20,50,100],"page-size":e.queryParams.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResult.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},s=[],o=a(3938),u={name:"CourseIndex",data(){return{queryParams:{currentPage:1,pageSize:10,courseName:"",status:void 0},queryResult:{}}},created(){this.loadCourses()},methods:{loadCourses(){(0,o.Ho)(this.queryParams).then((e=>{if("000000"===e.data.code){const{current:t,records:a,size:r,total:s}=e.data.data;Object.assign(this.queryParams,{currentPage:t,pageSize:r}),this.queryResult={pages:Math.ceil(s/r),records:a,total:s}}else this.$message.error("加载课程信息失败....")}))},handleSizeChange(e){this.queryParams.pageSize=e,this.queryParams.currentPage=1,this.loadCourses()},handleCurrentChange(e){this.queryParams.currentPage=e,this.loadCourses()},handleChangeStatus(e){const t=e.status?"上架":"下架";(0,o.M4)(e.id,e.status).then((e=>{"000000"===e.data.code?this.$message.success(`课程${t}成功!`):this.$message.error(`课程${t}失败...`)}))}}},l=u,n=a(1001),c=(0,n.Z)(l,r,s,!1,null,"093840aa",null),i=c.exports},3938:function(e,t,a){a.d(t,{Ho:function(){return s},Ix:function(){return u},M4:function(){return o},jt:function(){return l},zf:function(){return n}});var r=a(5972);const s=e=>(0,r.Z)({method:"POST",url:"/boss/course/getQueryCourses",data:e}),o=(e,t)=>(0,r.Z)({method:"GET",url:"/boss/course/changeState",params:{courseId:e,status:t}}),u=(e,t)=>(0,r.Z)({method:"POST",url:"/boss/course/upload",data:e,onUploadProgress:t}),l=e=>(0,r.Z)({method:"POST",url:"/boss/course/saveOrUpdateCourse",data:e}),n=e=>(0,r.Z)({method:"GET",url:"/boss/course/getCourseById",params:{courseId:e}})}}]);