"use strict";(self["webpackChunkedu_boss_fed"]=self["webpackChunkedu_boss_fed"]||[]).push([[535],{79490:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[t("el-form",{ref:"loginForm",attrs:{"label-position":"top",model:e.formData,"label-width":"80px",rules:e.myRules}},[t("h2",[e._v("登录")]),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.formData.phone,callback:function(r){e.$set(e.formData,"phone",r)},expression:"formData.phone"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(r){e.$set(e.formData,"password",r)},expression:"formData.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:e.onSubmit}},[e._v("登录")])],1)],1)],1)},a=[],o=(t(41539),t(16165)),n={name:"LoginIndex",data:function(){return{formData:{phone:"",password:""},myRules:{phone:[{required:!0,message:"手机号为必填项",trigger:"blur"},{pattern:/^1\d{10}$/,message:"手机号不合法",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,max:6,message:"密码长度应该在3到6位",trigger:"blur"}]},isLoading:!1}},methods:{onSubmit:function(){var e=this;this.isLoading=!0,this.$refs.loginForm.validate().then((function(){return(0,o.x4)(e.formData)})).then((function(r){var t=r.data;t.success?(e.$message.success("登录成功!"),e.$store.commit("saveTokenInfo",t.content),e.$router.push(e.$route.query.redirect||"/")):e.$message.error("登录失败")})).catch((function(){e.$message.error("表单验证失败")})).finally((function(){e.isLoading=!1}))}}},i=n,l=t(1001),u=(0,l.Z)(i,s,a,!1,null,"1cd358d9",null),m=u.exports}}]);