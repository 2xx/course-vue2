"use strict";(self["webpackChunkedu_boss_fed"]=self["webpackChunkedu_boss_fed"]||[]).push([[535],{9490:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("el-form",{ref:"loginForm",attrs:{"label-position":"top",model:e.formData,"label-width":"80px",rules:e.myRules}},[t("h2",[e._v("登录")]),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.formData.phone,callback:function(s){e.$set(e.formData,"phone",s)},expression:"formData.phone"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(s){e.$set(e.formData,"password",s)},expression:"formData.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:e.onSubmit}},[e._v("登录")])],1)],1)],1)},a=[],o=t(6165),i={name:"LoginIndex",data(){return{formData:{phone:"",password:""},myRules:{phone:[{required:!0,message:"手机号为必填项",trigger:"blur"},{pattern:/^1\d{10}$/,message:"手机号不合法",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,max:6,message:"密码长度应该在3到6位",trigger:"blur"}]},isLoading:!1}},methods:{onSubmit(){this.isLoading=!0,this.$refs.loginForm.validate().then((()=>(0,o.x4)(this.formData))).then((e=>{const{data:s}=e;s.success?(this.$message.success("登录成功!"),this.$store.commit("saveTokenInfo",s.content),this.$router.push(this.$route.query.redirect||"/")):this.$message.error("登录失败")})).catch((()=>{this.$message.error("表单验证失败")})).finally((()=>{this.isLoading=!1}))}}},n=i,l=t(1001),m=(0,l.Z)(n,r,a,!1,null,"1cd358d9",null),u=m.exports}}]);